"use strict";angular.module("sbAdminApp").controller("merchantsCtrl",function($scope,$http,DTOptionsBuilder,DTColumnBuilder,$compile,$filter,api){function toggleOne(selectedItems){for(var id in selectedItems)if(selectedItems.hasOwnProperty(id)&&!selectedItems[id])return void($scope.selectAll=!1);$scope.selectAll=!0}var url=api.addr();$http({method:"GET",url:url+"get-categories"}).then(function(response){var cats=response.data.list;return $scope.categories=cats,cats},function(response){console.log("Oops, Somethings went wrong.")}),$scope.selected={},$scope.selectAll=!1,$scope.toggleOne=toggleOne;var titleHtml='<input ng-model="selectAll" ng-click="toggleAll(selectAll, selected)" type="checkbox">';$scope.dtOptions=DTOptionsBuilder.newOptions().withOption("ajax",{url:url+"get-merchants",type:"POST"}).withDataProp("data").withOption("processing",!0).withOption("serverSide",!0).withOption("createdRow",function(row,data,dataIndex){$compile(angular.element(row).contents())($scope)}).withPaginationType("full_numbers"),$scope.dtColumns=[DTColumnBuilder.newColumn("name").withTitle("Merchant"),DTColumnBuilder.newColumn("Type").withTitle("Type"),DTColumnBuilder.newColumn("dateCreated").withTitle("Created").renderWith(function(data,type,full){return $filter("date")(data,"medium")}),DTColumnBuilder.newColumn("dateModified").withTitle("Updated").renderWith(function(data,type,full){return $filter("date")(data,"medium")}),DTColumnBuilder.newColumn("icon").notVisible(),DTColumnBuilder.newColumn("imageUrl").notVisible(),DTColumnBuilder.newColumn(null).withTitle("icon").notSortable().renderWith(function(data,type,full,meta){return data.icon?'<img ng-src="'+data.icon+'" height="70" width="80" alt=""/>':'<img ng-src="'+data.imageUrl+'" height="70" width="80" alt=""/>'}),DTColumnBuilder.newColumn(null).withTitle(titleHtml).notSortable().renderWith(function(data,type,full,meta){var id=data._id;return'<input type="checkbox" name="check" value="'+id+'">'})],$scope.toggleAll=function(selectAll,selectedItems){var checkboxes=document.getElementsByName("check");console.log(checkboxes);for(var i=0;i<checkboxes.length;i++)checkboxes[i].checked=!0}});