"use strict";angular.module("sbAdminApp").controller("shortcodesCtrl",function($scope,$http,api,$cookieStore,$window){api.addr();$window.scrollTo(0,0),$scope.alert="  loading.........",$scope.getShortcode=function(status){$scope.alert="  loading.........",api.get("get-codes",status,!1,!1,function(err,response){err||response.error?$scope.alert=response.userMessage||"Server error! Are you connected to the internet?.":("0"===status?($scope.unproc=response.unprocessed,$scope["new"]=response.newcode):$scope.proc=response,$scope.alert=!1)})},$scope.getShortcode("0"),$scope.getShortcode(3),$scope.getSms=function(code,status){$scope.code=code,$scope.alert="loading.......",api.get("get-smss/"+code+"/"+status,!1,!1,!1,function(err,response){err||response.error?$scope.alert=response.userMessage||"Server error! Are you connected to the internet?.":($scope.smses=response,$scope.alert=!1)})},$scope.blacklist=function(){$scope.addresses=[];for(var checkboxes=document.getElementsByName("blacklist"),i=0;i<checkboxes.length;i++)if(checkboxes[i].checked){var value=checkboxes[i].value;$scope.addresses.push(value)}api.put("blacklist",!1,!1,{address:$scope.addresses},function(err,response){err||response.error?$scope.alerts=[{msg:response.userMessage||"Server error! Are you connected to the internet?.",type:"error"}]:($scope.alert=response.message,$scope.smses=[],$scope.getShortcode("0"))})},$scope.reset=function(argument){$scope.smses=[],$scope.code=""},$scope.closeAlert=function(argument){$scope.alert=!1},$scope.searchCode="",$scope.shortcode=function(){api.get("short-code",!1,!1,{sender:$scope.searchCode},function(err,response){$scope.ShortcodeSummary=response,console.log(response)})},$scope.currentPage=1,$scope.pageSize=10});