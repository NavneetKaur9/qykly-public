"use strict";angular.module("sbAdminApp").controller("updateMerchantDetailCtrl",function($scope,$position,$location,$http){function getmerchantdata(){$http.get("api/getmerchantdata/"+$scope.skip).then(function(response){$scope.merchantdetails=response.data.data},function(response){$scope.alerts=[{msg:response.data.userMessage||"Server error! Are you connected to the internet?.",type:"error"}]})}$scope.skip=0,getmerchantdata(),$scope.previous=function(){$scope.skip--,getmerchantdata()},$scope.next=function(){$scope.skip++,getmerchantdata()},$scope.value={},$scope.updateMerchantDetail=function(){console.log($scope.name,$scope.Type,$scope.icon),$http.post("api/updatemerchantdata",{_id:$scope.id,name:$scope.name,Type:$scope.Type,icon:$scope.icon}).then(function(response){$scope.merchantdetails[$scope.index].name=$scope.name,$scope.merchantdetails[$scope.index].Type=$scope.Type,$scope.merchantdetails[$scope.index].icon=$scope.icon,$scope.alerts=[{msg:response.data.userMessage}]},function(response){})},$scope.showEditForm=function(value,index){console.log(index),$scope.editFormShow=!0,$scope.index=index,$scope.id=value._id,$scope.name=value.name,$scope.Type=value.Type,$scope.icon=value.icon},$scope.search=function(){$http.post("api/search/AutocorrectMerchant",{text:$scope.text}).then(function(response){$scope.merchantdetails=response.data.data},function(response){})},$scope.sortType="LaunchDate",$scope.sortReverse=!1,$scope.order=function(sortType){$scope.sortReverse=$scope.sortType===sortType?!$scope.sortReverse:!1,$scope.sortType=sortType},$scope.editItem=function(item){item.editing=!0,$scope.prev_name=item.name,$scope.prev_type=item.Type,$scope.prev_icon=item.icon},$scope.cancel=function(item){item.editing=!1,item.name=$scope.prev_name,item.Type=$scope.prev_type,item.icon=$scope.prev_icon},$scope.doneEditing=function(item){item.editing=!1,$http.post("api/updatemerchantdata",{_id:item._id,name:item.name,Type:item.Type,icon:item.icon}).then(function(response){$scope.alerts=[{msg:response.data.userMessage}]},function(response){})},$scope.changeicon=function(item){var a=JSON.parse(item.Type);item.Type=a.name,item.icon=a.icon_file_name,console.log(item.name,item.icon)},$scope.sortReverse=!0,$scope.order=function(sortType){$scope.sortReverse=$scope.sortType===sortType?!$scope.sortReverse:!1,$scope.sortType=sortType},$scope.items=[{name:"A/c to A/c",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/money.png"},{name:"Air tickets",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/travel.png"},{name:"Beauty/Fitness",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/beauty.png"},{name:"Bike",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/travel.png"},{name:"Bills/Utilities",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/bills.png"},{name:"Books",icon_file_name:"books"},{name:"Breakfast",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/dine_out.png"},{name:"Bus Fare",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/travel.png"},{name:"Business",icon_file_name:"business"},{name:"Cable",icon_file_name:"cable"},{name:"Car",icon_file_name:"car"},{name:"Car/Transport",icon_file_name:"cartransport"},{name:"Cash Forward",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/money.png"},{name:"Cash Income",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/money.png"},{name:"Cash Spend",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/finance.png"},{name:"Cash Withdrawal",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/finance.png"},{name:"CC Bill Payment",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/money.png"},{name:"CC Bill Payment",icon_file_name:"ccbillpayment"},{name:"Cheque",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/finance.png"},{name:"Cigarettes",icon_file_name:"cigarettes"},{name:"Clothes",icon_file_name:"clothes"},{name:"Coffee",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/dine_out.png"},{name:"Cookies",icon_file_name:"cookies"},{name:"Courier",icon_file_name:"courier"},{name:"Credit Card",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/finance.png"},{name:"Cycle",icon_file_name:"cycle"},{name:"Daily Care",icon_file_name:"dailycare"},{name:"Debit Card",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/finance.png"},{name:"Dining",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/dine_out.png"},{name:"Dinner",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/dine_out.png"},{name:"Disco",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/dine_out.png"},{name:"Donation",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/money.png"},{name:"Drinks",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/dine_out.png"},{name:"Education",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/school.png"},{name:"Electricity",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/bills.png"},{name:"Electronics",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/bills.png"},{name:"EMI",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/money.png"},{name:"Entertainment",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/entertainment.png"},{name:"Fast Food",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/dine_out.png"},{name:"Finance",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/money.png"},{name:"Flowers",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/games.png"},{name:"Fruits",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/groceries.png"},{name:"Games",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/games.png"},{name:"Gas",icon_file_name:"gas"},{name:"Gifts",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/other_purchases.png"},{name:"Gold",icon_file_name:"gold"},{name:"Grocery",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/groceries.png"},{name:"Gym",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/beauty.png"},{name:"Hotel",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/dine_out.png"},{name:"Household",icon_file_name:"household"},{name:"Ice-cream",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/shopping.png"},{name:"IMPS",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/money.png"},{name:"Income",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/money.png"},{name:"Insurance",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/money.png"},{name:"Interest",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/games.png"},{name:"Investment Income",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/money.png"},{name:"Investments",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/money.png"},{name:"Jewellery",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/shopping.png"},{name:"Kids",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/games.png"},{name:"Loan",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/money.png"},{name:"Lunch",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/dine_out.png"},{name:"Maid/Driver",icon_file_name:"domestichelp"},{name:"Maintenance",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/money.png"},{name:"Medical",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/medicine.png"},{name:"Miscellaneous",icon_file_name:"miscellaneous"},{name:"Mobile",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/mobile.png"},{name:"Music",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/shopping.png"},{name:"Mutual Funds",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/money.png"},{name:"NetBanking",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/money.png"},{name:"Office",icon_file_name:"office"},{name:"Online Transfer",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/money.png"},{name:"Others",icon_file_name:"other"},{name:"Others",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/money.png"},{name:"Pastries",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/dine_out.png"},{name:"Pets",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/shopping.png"},{name:"Post Office",icon_file_name:"postoffice"},{name:"Prepaid Wallet",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/wallet.png"},{name:"Printing/Scanning",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/shopping.png"},{name:"Provident Fund",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/money.png"},{name:"Pub",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/dine_out.png"},{name:"Rent/Mortgage",icon_file_name:"rentmortgage"},{name:"Salary",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/money.png"},{name:"Saloon",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/games.png"},{name:"Savings",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/finance.png"},{name:"Selling",icon_file_name:"selling"},{name:"Shoes",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/shopping.png"},{name:"Shopping",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/shopping.png"},{name:"Spa",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/beauty.png"},{name:"Split",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/finance.png"},{name:"Stationery",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/shopping.png"},{name:"Stocks",icon_file_name:"stocks"},{name:"Tax",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/money.png"},{name:"Taxi",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/travels.png"},{name:"Toys",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/games.png"},{name:"Transfer",icon_file_name:"transfer"},{name:"Transport",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/travel.png"},{name:"Travel",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/travel.png"},{name:"Unknown",icon_file_name:""},{name:"Vacation",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/travel.png"},{name:"Water",icon_file_name:"https://s3-ap-southeast-1.amazonaws.com/qykly-bucket/bills.png"}]});